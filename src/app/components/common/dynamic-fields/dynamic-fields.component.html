<div *ngIf="!actionField" class="row">
    <div class="field-item {{tf.fieldClass}} {{tf.fieldName}}"
        [ngClass]="{'hide': tf.fieldName == 'errorCode' && !apiFormFields[c-1].selection}" [formGroup]="webForm"
        *ngFor="let tf of apiFormFields; let c = index;">
        <div *ngIf="tf.cellArray.length > 0" class="row"> <!--  [ngClass]="{'row': tf.fieldType != 'frame-input'}" -->
            <div [ngClass]="{'col-md-7': tc.fieldType == 'input', 'col-md-5 joined-row': tc.fieldType == 'dropdown', 'label-col': tc.fieldType == 'label' || tc.fieldType == 'label-dropdown'}"
                *ngFor="let tc of tf.cellArray; let a = index;">
                <div *ngIf="tc.displayFlag" [ngSwitch]="tc.fieldType">
                    <div *ngIf="tc.isMandatary" class="required-text {{tf.fieldName}}" [ngClass]="{'hide': tc.fieldType == 'label' || tc.fieldType == 'label-dropdown'}">{{requiredTxt}}</div>
                    <!-- Input Field -->
                    <div *ngSwitchCase="'input'">
                        <div class="cursor dynamic-form-control split-bg-col join-split-col" [ngClass]="{'focused': tc.selectedValues != ''}">
                            <div class="field-col bg-col {{tc.fieldName}}-bg {{tc.fieldClass}}-bg {{industryType.class}}"></div>
                            <div class="field-col text-col alt-text">
                                <label class="hide" for="integeronly">Integer Only</label>
                                <!--p-inputNumber inputId="integeronly" formControlName="{{tc.apiFieldKey}}" placeholder="{{tc.placeholder}}" 
                                    [(ngModel)]="tc.selectedValues" maxlength="{{tc.maxLength}}"
                                    (ngModelChange)="onChange(tc.fieldType, tc.fieldName, c, $event, a)">
                                </p-inputNumber-->
                                <!--<input *ngIf="industryType.id == 1" matInput type="number" placeholder="{{tc.placeholder}}"
                                formControlName="{{tc.apiFieldKey}}" [ngModel]="tc.selectedValues"
                                autocomplete="off" min="0" maxlength="{{tc.maxLength}}"
                                (ngModelChange)="onChange(tc.fieldType, tc.fieldName, c, $event, a)">
                                <input *ngIf="industryType.id > 1" matInput type="text" placeholder="{{tc.placeholder}}"
                                    formControlName="{{tc.apiFieldKey}}" [ngModel]="tc.selectedValues"
                                    autocomplete="off" min="0" maxlength="{{tc.maxLength}}"
                                    (keypress)="restrictNumeric(tc.fieldType, tc.fieldName, c, $event, a)"
                                    (ngModelChange)="onChange(tc.fieldType, tc.fieldName, c, $event, a)">-->
                                    <input matInput type="text" placeholder="{{tc.placeholder}}"
                                    formControlName="{{tc.apiFieldKey}}" [ngModel]="tc.selectedValues"
                                    autocomplete="off" min="0" maxlength="{{tc.maxLength}}"
                                    (keypress)="restrictNumeric(tc.fieldType, tc.fieldName, c, $event, a)"
                                    (ngModelChange)="onChange(tc.fieldType, tc.fieldName, c, $event, a)">
                            </div>
                        </div>
                    </div>
                    <!-- Dropdown Field -->
                    <div *ngSwitchCase="'dropdown'" class="custom-drop-down single" [ngClass]="{'focused': tc.selectedValues.length > 0}">
                        <!-- Single Selection -->
                        <div class="single-select">
                            <p-dropdown appendTo="body" [style]="{'width':'100%'}" class="drop-col dropdown join-col"
                                [options]="tc.itemValues" formControlName="{{tc.apiFieldKey}}"
                                [(ngModel)]="tc.selectedValues" placeholder="{{tc.placeholder}}" autoWidth="true"
                                filter="true" optionLabel="name" optionValue="id" resetFilterOnHide="true"
                                [disabled]="tc.disabled"
                                (onChange)="onChange(tc.fieldType, tc.fieldName, c, $event.value, a)"></p-dropdown>
                        </div>
                    </div>
                </div>
                <div *ngIf="webForm.controls[tc.apiFieldKey].errors" class="invalid-feedback"
                    [ngClass]="{'invalid-field': step1Submitted && !tc.valid}">
                    <div id="valid-error" class="field-err" *ngIf="webForm.controls[tc.apiFieldKey].errors.required">{{tc.isReqiredText}}
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="tf.cellArray.length == 0 && tf.displayFlag" [ngSwitch]="tf.fieldType">
            <div *ngIf="tf.isMandatary" class="required-text {{tf.fieldName}}">{{requiredTxt}}</div>
            <!-- Banner Image -->
            <div *ngSwitchCase="'banner'">
                <div class="form-col upload-col">
                    <span *ngIf="imgURL == null || defaultBanner" class="banner-upload">
                        <a (click)="selectFile.click()" class="browse-button"></a>
                        <input style="display: none" type="file" accept='image/*'
                            (change)="onFileUpload($event, tf, c)" #selectFile />
                        <span class="upload-txt">Upload Banner Image</span>
                    </span>
                    <span *ngIf="imgURL != null && !defaultBanner" class="banner-upload upload-bg"
                        [ngStyle]="{'background': 'url(' + imgURL + ') no-repeat'}">
                        <div class="upload-actions">
                            <a (click)="deleteUploadedFile(tf, c)" class="action-btn delete-upload"></a>
                            <a (click)="selectFile.click()" class="action-btn edit-upload"></a>
                        </div>
                        <input style="display: none" type="file" accept='image/*'
                            (change)="onFileUpload($event, tf, c)" #selectFile />
                    </span>
                    <div id="valid-error" class="page-error-text file-error" *ngIf="invalidFile || invalidFileSize">
                        {{invalidFileErr}}</div>
                </div>
            </div>

            <!-- Input Field -->
            <div *ngSwitchCase="'input'">
                <div class="cursor dynamic-form-control split-bg-col {{tf.fieldName}}" [ngClass]="{'focused': tf.selectedValues != ''}">
                    <div class="field-col bg-col {{tf.fieldName}}-bg {{tf.fieldClass}}-bg"></div>
                    <div class="field-col text-col alt-text">
                        <input matInput class="{{tf.fieldClass}}" placeholder="{{tf.placeholder}}"
                            formControlName="{{tf.apiFieldKey}}" [ngModel]="tf.selectedValues"
                            maxlength="{{tf.maxLength}}" autocomplete="off"
                            (ngModelChange)="onChange(tf.fieldType, tf.fieldName, c, $event, -1)">
                    </div>
                </div>
            </div>

            <!-- VIN Input Field -->
            <div *ngSwitchCase="'vin-input'">
                <div class="cursor dynamic-form-control split-bg-col {{tf.fieldName}}" [ngClass]="{'focused': tf.selectedValues.length == 17}">
                    <div class="field-col bg-col {{tf.fieldName}}-bg {{tf.fieldClass}}-bg"></div>
                    <div class="field-col text-col alt-text">
                        <input matInput class="{{tf.fieldClass}}" placeholder="{{tf.placeholder}}" formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedValues" maxlength="{{tf.maxLength}}" autocomplete="off" [readonly]="tf.disabled" (input)="onChange(tf.fieldType, tf.fieldName, c, $event.target.value, -1)" />
                        <span *ngIf="tf.decodeConcept == 1" [ngClass]="{'active': tf.selectedValues.length == 17}" (click)="onChange(tf.fieldType, tf.fieldName, c, tf.selectedValues, -1, 'vin-api')" class="vin-action text-right"></span>
                    </div>
                </div>
                <div class="recent-vin cursor {{tf.fieldClass}}" title="Recent VINs" [ngClass]="{'disabled': tf.disabled}" (click)="manageSelection(tf)"></div>
            </div>

            <!-- Input Box Field -->
            <div *ngSwitchCase="'inputbox'">
                <div class="cursor dynamic-form-control" [ngClass]="{'focused': tf.selectedValues != ''}">
                    <div class="field-col text-col alt-text">
                        <input matInput class="input-box" placeholder="{{tf.placeholder}}"
                            formControlName="{{tf.apiFieldKey}}" [ngModel]="tf.selectedValues"
                            maxlength="{{tf.maxLength}}" autocomplete="off"
                            (ngModelChange)="onChange(tf.fieldType, tf.fieldName, c, $event, -1)">
                    </div>
                </div>
            </div>

            <!-- Dropdown Field -->
            <div *ngSwitchCase="'dropdown'" class="custom-drop-down {{tf.selection}}"
                [ngClass]="{'empty': pageInfo.access == 'documents' && tf.itemValues.length == 0 && tf.fieldName == 'make'}">
                <!-- Single Selection -->
                <div *ngIf="tf.loading" class="dash-loader cust-loader field-loader"><img
                        src="assets/images/loading.svg" alt="Loader" /></div>
                <div class="single-select" *ngIf="tf.selection == 'single'">
                    <div class="drop-col split-col">
                        <span class="split-icon {{tf.fieldName}}-bg"></span>
                    </div>
                    <p-dropdown appendTo="body" [style]="{'width':'100%'}" [ngClass]="{'enable': tf.selectedValues != ''}" class="drop-col dropdown"
                        [options]="tf.itemValues" formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedValues"
                        placeholder="{{tf.placeholder}}" autoWidth="true" filter="true" optionLabel="name"
                        optionValue="id" resetFilterOnHide="true" [disabled]="tf.disabled" [virtualScroll]="true"
                        (onChange)="onChange(tf.fieldType, tf.fieldName, c, $event.value, -1)"></p-dropdown>   
                </div>
                
                <!-- Multiple Selection -->
                <div *ngIf="tf.selection == 'multiple'">
                    <div class="multi-select" [ngClass]="{'empty': tf.selectedVal.length == 0}">
                        <div class="drop-col split-col">
                            <span class="split-icon {{tf.fieldName}}-bg"></span>
                        </div>
                        <p-multiSelect #multi class="drop-col dropdown" [options]="tf.itemValues"
                            formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedIds"
                            [selectedItemsLabel]="tf.placeholder" placeholder="{{tf.placeholder}}"
                            autoWidth="true" filter="true" optionLabel="name" optionId="id" resetFilterOnHide="true"
                            filterPlaceHolder="Search {{tf.placeholder}}" [disabled]="tf.disabled"
                            (onChange)="selectedItems(tf.fieldName, $event.value)">
                            <ng-template let-tf.fieldName pTemplate="selectedItems">
                                <ng-container *ngFor="let item of tf.selectedVal; let i = index;">{{item}}<span
                                        *ngIf="tf.selectedVal.length > i+1">, </span>
                                </ng-container>
                                <span class="p-placeholder" *ngIf="tf.selectedVal.length == 0">{{tf.placeholder}}</span>
                            </ng-template>
                        </p-multiSelect>
                    </div>
                    <div class="dynmic-selected-items" *ngIf="tf.selectedValues.length > 0">
                        <div class="selected-items ws-selected-items">
                            <div *ngFor="let item of tf.selectedValues; let t=index" class="tag-text ws-tag-text">
                                <span>{{item}}</span>
                                <i *ngIf="!tf.disabled" class="material-icons tag-close"
                                    (click)="disableTagSelection(tf.fieldName, item, t);">close</i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="dynmic-selected-items" *ngIf="tf.selection == 'single' && (tf.fieldName == 'make' || tf.fieldName == 'manufacturer' || tf.fieldName == 'SelectProductType' || tf.fieldName == 'year') && (tf.selectedVal != '')">
                <div class="selected-items ws-selected-items">
                    <div class="tag-text ws-tag-text">
                        <span>{{tf.selectedVal}}</span>
                    </div>
                </div>
            </div>

            <div class="dynmic-selected-items" *ngIf="tf.fieldName == 'workstreams' && tf.selection == 'single' && tf.selectedValues != ''">
                <div class="selected-items ws-selected-items">
                    <div *ngFor="let item of tf.selectedIds; let t=index" class="tag-text ws-tag-text">
                        <span>{{item.name}}</span>
                    </div>
                </div>
            </div> 

            <!-- Custom Popup Field -->
            <div *ngSwitchCase="'popup'" class="cursor custom-drop-down popup">
                <!-- Singl Selection -->
                <div *ngIf="tf.selection == 'single'">
                    <div class=" {{tf.selection}}" (click)="manageSelection(tf)">
                        <div *ngIf="tf.loading" class="dash-loader cust-loader field-loader"><img
                                src="assets/images/loading.svg" alt="Loader" /></div>
                        <div class="single-select" [ngClass]="{'empty': tf.disabled}" *ngIf="tf.selection == 'single'">
                            <div class="drop-col split-col">
                                <span class="split-icon {{tf.fieldName}}-bg {{industryType.class}}"></span>
                            </div>
                            <p-dropdown class="drop-col dropdown" [options]="tf.itemValues"
                                formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedValues"
                                placeholder="{{tf.placeholder}}" autoWidth="true" filter="true"
                                optionLabel="name" optionValue="id" resetFilterOnHide="true" [disabled]="true"
                                (onChange)="onChange(tf.fieldType, tf.fieldName, c, $event.value, -1)"></p-dropdown>
                        </div>
                    </div>
                    <div class="dynmic-selected-items" *ngIf="tf.selectedValues != ''">
                        <div class="selected-items ws-selected-items">
                            <div class="tag-text ws-tag-text">
                                <span>{{tf.selectedValues}}</span>
                                <i *ngIf="!tf.disabled" class="material-icons tag-close"
                                    (click)="disableTagSelection(tf.fieldName, tf.selectedValues, 0);">close</i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Multiple Selection -->
                <div *ngIf="tf.selection == 'multiple'"
                    [ngClass]="{'hide': tf.fieldName == 'errorCode' && !apiFormFields[c-1].selection}">
                    <div class="multi-select" [ngClass]="{'empty': tf.disabled}" (click)="manageSelection(tf)">
                        <div class="drop-col split-col">
                            <span class="split-icon {{tf.fieldName}}-bg {{tf.fieldClass}}-bg {{industryType.class}}"></span>
                        </div>
                        <p-multiSelect #multi class="drop-col dropdown" [options]="tf.itemValues"
                            formControlName="{{tf.apiFieldKey}}" [selectedItemsLabel]="tf.placeholder"
                            placeholder="{{tf.placeholder}}" autoWidth="true" filter="true"
                            optionLabel="name" optionId="id" resetFilterOnHide="true"
                            filterPlaceHolder="Search {{tf.placeholder}}" [disabled]="true">
                            <ng-template let-tf.fieldName pTemplate="selectedItems">
                                <ng-container *ngFor="let item of tf.selectedVal; let i = index;">{{item}}<span
                                        *ngIf="tf.selectedVal.length > i+1">, </span>
                                </ng-container>
                                <span class="p-placeholder" *ngIf="tf.selectedVal.length == 0">{{tf.placeholder}}</span>
                            </ng-template>
                        </p-multiSelect>
                    </div> <span *ngIf="tf.fieldName == 'tags'"></span>
                    <div class="dynmic-selected-items" *ngIf="tf.selectedValues.length > 0">
                        <div class="selected-items ws-selected-items">
                            <div *ngFor="let item of tf.selectedValues; let t=index" class="tag-text ws-tag-text">
                                <span>{{item}}</span>
                                <i *ngIf="!tf.disabled" class="material-icons tag-close"
                                    (click)="disableTagSelection(tf.fieldName, item, t);">close</i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Thread Type Select -->
            <div *ngSwitchCase="'ThreadTypeSelect'" class="row">
                <div class="cursor field-box rect-box {{item.itemClass}}"
                    [ngClass]="{'active': item.isActive, 'deactive': item.active == 0}"
                    *ngFor="let item of tf.itemValues;"
                    (click)="onChange(tf.fieldType, tf.fieldName, c, item.apiValue, -1)">
                    <div class="item-row">
                        <div class="item-col {{item.apiValue}}"></div>
                        <div class="item-col">
                            <div class="title">{{item.name}}</div>
                            <div class="desc">{{item.description}}</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Help Type Select -->
            <div *ngSwitchCase="'helpTypeCollectionCell'">
                <div class="cursor text-center field-box square-box" [ngClass]="{'active': item.isActive}"
                    *ngFor="let item of tf.itemValues;"
                    (click)="onChange(tf.fieldType, tf.fieldName, c, item.apiValue, -1)">
                    <div class="item-row">
                        <div class="item-col {{item.name | lowercase }}"></div>
                        <div class="item-col">{{item.name}}</div>
                    </div>
                </div>
            </div>

            <!-- Toggle -->
            <div *ngSwitchCase="'toggle'" class="row">
                <div class="cursor field-box toggle-box {{tf.fieldClass}}"
                    [ngClass]="{'active': tf.selection, 'inactive': !tf.selection}">
                    <span class="toggle-col field-label {{industryType.slug}}">{{tf.title}}</span>
                    <span class="toggle-col toggle-option">
                        <p-inputSwitch formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selection"
                            (onChange)="onChange(tf.fieldType, tf.fieldName, c, $event.checked, -1)"></p-inputSwitch>
                    </span>
                </div>
            </div>

            <!-- Text Area -->
            <div *ngSwitchCase="'textarea'">
                <div class="dynamic-form-control">
                    <div class="field-col text-col alt-text">
                        <div class="field-label {{tf.fieldName}} {{tf.fieldClass}}"
                            [ngClass]="{'label-bg': tf.iconSupport, 'item-label': tf.isLabel}" *ngIf="tf.isLabel">
                            {{tf.title}}                            
                        </div>
                        <div *ngIf="tf.languageOptionForDesc == 1" class="lang-row">
                            <div class="field-label item-label lang-split-col {{tf.fieldName}} {{tf.fieldClass}}">
                                {{tf.title}}
                            </div>
                            <div class="language-col lang-split-col">
                                <div class="item-col lable-col">Language</div>
                                <div class="item-col option-col">
                                    <p-dropdown appendTo="body" [style]="{'width':'100%'}" [ngClass]="{'enable': tf.selectedLang != ''}" 
                                    class="drop-col dropdown" [options]="tf.langItemValues" 
                                    formControlName="lang-{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedLang"
                                    placeholder="Language" autoWidth="true" filter="true" optionLabel="name"
                                    optionValue="id" resetFilterOnHide="true" [disabled]="true" [virtualScroll]="true"
                                    ></p-dropdown>
                                </div>
                            </div>
                        </div>
                        <textarea *ngIf="tf.isEditor == 0" placeholder="{{tf.placeholder}}"
                            formControlName="{{tf.apiFieldKey}}" [ngModel]="tf.selectedValues"
                            maxlength="{{tf.maxLength}}" autocomplete="off"
                            (ngModelChange)="onChange(tf.fieldType, tf.fieldName, c, $event, -1)"></textarea>

                        <p-editor *ngIf="tf.isEditor == 1 && tf.isRichEditor == 0" formControlName="{{tf.apiFieldKey}}"
                            [ngModel]="tf.selectedValues"
                            (onTextChange)="onChange(tf.fieldType, tf.fieldName, c, $event.htmlValue, -1)"
                            [style]="{'height': '180px'}">
                            <ng-template pTemplate="header">
                                <span class="ql-formats">
                                    <button class="ql-bold" aria-label="Bold"></button>
                                    <button class="ql-italic" aria-label="Italic"></button>
                                    <button class="ql-underline" aria-label="Underline"></button>

                                    <select title="Text Color" class="ql-color" defaultValue="rgb(0, 0, 0)">
                                        <option *ngFor="let c of textColorValues" value="{{c.color}}"
                                            label="{{c.color}}"></option>
                                    </select>
                                    <button class="ql-list" value="ordered"></button>
                                    <button class="ql-list" value="bullet"></button>
                                    <select title="Text Alignment" class="ql-align">
                                        <option selected>Gauche</option>
                                        <option value="center" label="Center"></option>
                                        <option value="right" label="Right"></option>
                                        <option value="justify" label="Justify"></option>
                                    </select>

                                    
                                </span>
                            </ng-template>
                        </p-editor>

                        <ckeditor [editor]="Editor" [config]="configCke"
                        *ngIf="tf.isEditor == 1 && tf.isRichEditor == 1" formControlName="{{tf.apiFieldKey}}"
                        [ngModel]="tf.selectedValues"
                        (change)="onChange(tf.fieldType, tf.fieldName, c, tf.apiFieldKey, -1, tf.isRichEditor)"
                        ></ckeditor>

                        <div *ngIf="tf.minLength > 0" class="text-count">
                            <span class="current-count">{{tf.selectedValues.length}}</span>
                            <span *ngIf="tf.selectedValues.length < 100">/{{tf.minLength}}</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="hide" *ngSwitchCase="'audioFile'">
                <div class="dynamic-form-control">
                    <div class="field-col text-col alt-text">
                        <div class="field-label {{tf.fieldName}} {{tf.fieldClass}}"
                            [ngClass]="{'label-bg': tf.iconSupport, 'item-label': tf.isLabel}" *ngIf="tf.isLabel">
                            {{tf.title}}                            
                        </div>
                        <div class="audio-desc">
                            <app-audio-desc-attachment (audioItem)="audioItem($event)"></app-audio-desc-attachment>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Radio Button -->
            <div *ngSwitchCase="'radio'">
                <div class="radio-button">
                    <label class="cursor" [ngClass]="{'active': opt.checked}" *ngFor="let opt of tf.itemValues"
                        id="radio-{{opt.id}}">
                        <input type="radio" [name]="opt.name" [formControlName]="tf.apiFieldKey" [value]="opt.id"
                            checked="{{opt.checked}}" (change)="onChange(tf.fieldType, tf.fieldName, c, opt.id, -1)"
                            [(ngModel)]="tf.selectedVal">
                        <span class="checkmark" [ngClass]="{'active': opt.checked}"></span>
                        {{opt.name}}
                    </label>
                </div>
            </div>

            <!-- Date Picker -->
            <div *ngSwitchCase="'input-date'">
                <div class="cursor dynamic-form-control split-bg-col join-split-col">
                    <div class="field-col bg-col {{tf.fieldName}}-bg"></div>
                    <div class="field-col calendar-col alt-text cursor">
                        <!--p-calendar formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.dateVal" [minDate]="minDate" [showIcon]="false" [touchUI]="true"
                            dateFormat="{{dateFormat}}" [readonlyInput]="true" inputId="'touchui-'+tf.fieldName" placeholder="{{tf.placeholder}}" 
                            (onSelect)="onChange(tf.fieldType, tf.fieldName, c, $event, -1)">
                        </p-calendar-->
                        <dp-date-picker placeholder="{{tf.placeholder}}"
                            formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.dateVal" [config]="datePickerConfig"
                            (onSelect)="onChange(tf.fieldType, tf.fieldName, c, $event.date, -1)"></dp-date-picker>
                    </div>
                </div>
            </div>

            <!-- Attachment -->
            <div *ngSwitchCase="'attachments'">
                <div class="prob-form-row attachment-row">
                    <app-file-attachment *ngIf="threadUpload" class="attachment-file" [action]="manageAction"
                        [pushData]="pageInfo.pushFormData" [apiData]="apiData" [attachmentItems]="attachmentItems" (uploadedItems)="attachments($event)">
                    </app-file-attachment>
                    <app-attachment-view *ngIf="attachmentFlag" [action]="EditAttachmentAction" [access]="pageInfo.access" [attachments]="attachmentItems"
                        (attachmentAction)="attachmentAction($event)"></app-attachment-view>
                </div>
            </div>

            <!-- Slider -->
            <div *ngSwitchCase="'slider'">
                <div class="slider">
                    <div class="field-label slider-label {{tf.fieldClass}}">{{tf.LabelName}}</div>
                    <div class="field-label slider-placeholder">{{tf.title}}:<span *ngIf="tf.selectedValues > 0"
                            class="slider-val {{tf.fieldClass}}">{{tf.selectedValues}} {{tf.placeholder}}</span></div>
                    <!--p-slider formControlName="{{tf.apiFieldKey}}" [(ngModel)]="tf.selectedValues" [min]="tf.minValue" [max]="tf.maxValue" [step]="tf.intervalValue" [animate]="true" styleClass="cust-slider" (onChange)="onChange(tf.fieldType, tf.fieldName, c, $event.value, -1)"></p-slider-->
                    <mat-slider class="custom-mat-slider" [disabled]="disabled" [invert]="invert" [max]="tf.maxValue"
                        [min]="tf.minValue" [step]="tf.intervalValue" formControlName="{{tf.apiFieldKey}}"
                        [(ngModel)]="tf.selectedValues" [vertical]="vertical"
                        (change)="onChange(tf.fieldType, tf.fieldName, c, $event.value, -1)">
                    </mat-slider>
                </div>
            </div>

            <div *ngIf="(tf.fieldName == 'vinNo' || tf.fieldName == 'vin') && tf.invalidFlag" class="invalid-feedback invalid-field">
                <div id="valid-error" class="field-err">{{tf.invalidError}}</div>
            </div>
            
            <div *ngIf="!tf.valid && (tf.fieldName != 'vinNo' || (tf.fieldName == 'vinNo' && tf.isMandatary == 1))" class="invalid-feedback"
                [ngClass]="{'invalid-field': ((step == 'step1' && step1Submitted) || (step == 'step2' && step2Submitted) && !tf.valid)}">
                <div id="valid-error" class="field-err" *ngIf="!tf.valid">{{tf.isReqiredText}}</div>
            </div>
        </div>

        <!-- Recent Selection Lists -->
        <div class="recent-selections recent-top {{tf.selection}}"
            [ngClass]="{'hide': !tf.recentShow || tf.selectedVal.length > 0}"
            *ngIf="tf.recentSelection == 1 && tf.recentSelectionValue && tf.recentSelectionValue.length > 0 && !tf.loading"
            [style.width.px]="panelWidth">
            <div class="recent-col recent-label">Recent Selections:</div>
            <div class="recent-col recent-list">
                <div class="cursor items" *ngFor="let recent of tf.recentSelectionValue; let r=index;"
                    (click)="recentSelection(tf, recent, c)">
                    <span *ngIf="tf.fieldName != 'make'">{{recent.name}}</span>
                    <span *ngIf="tf.fieldName == 'make'">{{recent.genericProductName}}</span>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="actionField" id="sib-actions">
    <p-accordion class="sib-tab" (onClose)="onTabClose($event)" (onOpen)="onTabOpen($event)">
        <p-accordionTab header="SIB Action {{ac+1}}" [(selected)]="secTabStatus[ac]" [disabled]="secTabStatus[ac]" id="tab-{{ac}}" [ngClass]="{'disable': apiFormFields.mainActionItems[0].disable}" *ngFor="let df of apiFormFields.cells.sib; let ac = index;" [formGroup]="webForm">
            <div *ngFor="let sc of df.sibActions; let s = index;">
                <div *ngIf="sc.fieldType == 'hidden' && sc.selectedValues > 0" class="sec-actions">
                    <span *ngIf="!sc.saveFlag && apiFormFields.cells.sib.length > 1" class="cursor action-col delete-icon" (click)="sibSectionAction('delete', ac, apiFormFields.cells.sib, sc.selectedValues)">Delete <span class="bg-icon"></span></span>
                    <span *ngIf="!sc.saveFlag" class="cursor action-col edit-icon" (click)="sibSectionAction('edit', ac, df, sc.selectedValues)">Edit <span class="bg-icon"></span></span>
                    <span *ngIf="sc.saveFlag" class="cursor action-col cancel-icon" (click)="sibSectionAction('cancel', ac, df, sc.selectedValues)">Cancel <span class="bg-icon"></span></span>
                    <span *ngIf="sc.saveFlag" class="cursor action-col save-icon" (click)="sibSectionAction('save', ac, df, sc.selectedValues)">Save <span class="bg-icon"></span></span>
                </div>
            </div>
            <div class="row sib-sec">
                <div class="field-item {{sf.fieldClass}} {{sf.fieldName}}" [ngClass]="{'hide': sf.rowItems.length == 0 && !sf.displayFlag || sf.fieldType == 'hidden'}" *ngFor="let sf of df.sibActions; let d = index;"> <!--{{ac}} {{d}}-->
                    <div *ngIf="sf.rowItems.length > 0" [ngClass]="{'row': sf.fieldType != 'frame-input'}">
                        <div class="sib-rows" [ngClass]="{'sib-more': sf.rowItems.length > 1 &&  a != sf.rowItems.length-1}" *ngFor="let sc of sf.rowItems; let a = index;">
                            <div class="row-items">
                                <div *ngFor="let sbf of sc.cellAction; let sb = index;" [ngClass]="{'label-col': sbf.fieldType == 'label' || sbf.fieldType == 'label-dropdown'}">
                                    <div *ngIf="sbf.displayFlag" [ngSwitch]="sbf.fieldType">
                                        <div *ngIf="sbf.isMandatary && sbf.editFlag" class="required-text {{sbf.fieldName}}" [ngClass]="{'hide': sbf.fieldType == 'label' || sbf.fieldType == 'label-dropdown'}">{{requiredTxt}}</div>
                                        <!-- Frame Input Field -->
                                        <div *ngIf="sbf.fieldType == 'frame-input'">
                                            <span class="cursor close" *ngIf="sf.rowItems.length > 1 && sbf.editFlag" (click)="removeFrameRow(sf.rowItems, d, a)"></span>
                                            <div class="cursor dynamic-form-control split-bg-col {{sbf.fieldName}}">
                                                <div class="field-col bg-col {{sbf.fieldName}}-bg {{sbf.fieldClass}}-bg"></div>
                                                <div class="field-col text-col alt-text">
                                                    <input matInput class="{{sbf.fieldClass}}" [ngClass]="{'readonly': !sf.saveFlag}" placeholder="{{sbf.placeholder}}" formControlName="{{sbf.apiFieldKey}}-{{ac}}-{{d}}-{{a}}" [(ngModel)]="sbf.selectedValues" maxlength="{{sbf.maxLength}}" autocomplete="off" [readonly]= "!sbf.editFlag" (input)="onChange(sbf.fieldType, sbf.fieldName, d, $event.target.value, -1, '', true, ac, a)" />
                                                    <span [ngClass]="{'active': sbf.selectedValues != undefined && sbf.selectedValues.length == 17 && !sbf.duplicateFlag && sbf.editFlag}" (click)="onChange(sbf.fieldType, sbf.fieldName, d, sbf.selectedValues, -1, 'frame-api', true, ac, a, 'change')" class="vin-action text-right"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- Label Field-->
                                        <div *ngSwitchCase="'label'" class="frame-label" [ngClass]="{'readonly': !sf.saveFlag}">
                                            <div class="label-item {{sbf.fieldClass}}">
                                                {{sbf.placeholder}}
                                                <div class="label-val">
                                                    {{sbf.selectedValues}}
                                                    <span *ngIf="sbf.action && sbf.editFlag" class="cursor edit" (click)="manageSelection(sbf, d, sf, ac, a)"></span>
                                                </div>
                                            </div>                        
                                        </div>
                                    </div>
                                    <div *ngIf="sbf.fieldType == 'frame-input' && ((!sbf.valid && sbf.selectedValues == '' && step == 'step1' && step1Submitted) || sbf.invalidFlag || sbf.duplicateFlag || (!sbf.vinValid && sbf.valid && sbf.selectedValues != '' && step == 'step1' && step1Submitted))" class="invalid-feedback invalid-field">
                                        <div id="valid-error" class="field-err">
                                            <span *ngIf="sbf.invalidFlag">{{sbf.invalidError}}</span>
                                            <span *ngIf="sbf.duplicateFlag">{{sbf.duplicateError}}</span>
                                            <span *ngIf="sbf.valid && !sbf.vinValid && !sbf.invalidFlag">{{sbf.verifyError}}</span>
                                            <span *ngIf="!sbf.invalidFlag && !sbf.duplicateFlag && !sbf.valid">{{sbf.isReqiredText}}</span>
                                        </div>
                                    </div>
                                </div>
                                <div *ngIf="sf.fieldType == 'frame-input' && sf.invalidFlag" class="invalid-feedback invalid-field">
                                    <div id="valid-error" class="field-err">{{sf.invalidError}}</div>
                                </div>
                            </div>
                        </div>
                        
                        <div *ngIf="sf.actionItems.length > 0 && sf.actionItems[0].action" class="row-action-item" [ngClass]="{'more-actions': sf.rowItems.length}">
                            <span [ngClass]="{'disabled': sf.actionItems[0].disable}" (click)="addFrameRow(df, ac, d, sf.actionItems[0].disable)">{{sf.actionItems[0].label}}</span>
                        </div>
                    </div>
                    <div *ngIf="sf.rowItems.length == 0 && sf.displayFlag" [ngSwitch]="sf.fieldType">
                        <div *ngIf="sf.isMandatary" class="required-text {{sf.fieldName}}">{{requiredTxt}}</div>
                        <!-- Input Field -->
                        <div *ngSwitchCase="'input'">
                            <div class="cursor dynamic-form-control split-bg-col {{sf.fieldName}}" [ngClass]="{'focused': sf.selectedValues != ''}">
                                <div class="field-col bg-col {{sf.fieldName}}-bg {{sf.fieldClass}}-bg"></div>
                                <div class="field-col text-col alt-text">
                                    <input matInput class="{{sf.fieldClass}}" [ngClass]="{'readonly': !sf.saveFlag}" placeholder="{{sf.placeholder}}"
                                        formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [ngModel]="sf.selectedValues"
                                        maxlength="{{sf.maxLength}}" autocomplete="off"
                                        [readonly]= "!sf.editFlag"
                                        (ngModelChange)="onChange(sf.fieldType, sf.fieldName, d, $event, -1)">
                                </div>
                            </div>
                        </div>
            
                        <!-- Input Box Field -->
                        <div *ngSwitchCase="'inputbox'">
                            <div class="cursor dynamic-form-control" [ngClass]="{'focused': sf.selectedValues != ''}">
                                <div class="field-col text-col alt-text">
                                    <input matInput class="input-box0" [ngClass]="{'readonly': !sf.saveFlag}" placeholder="{{sf.placeholder}}"
                                        formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [ngModel]="sf.selectedValues"
                                        maxlength="{{sf.maxLength}}" autocomplete="off"
                                        [readonly]= "!sf.editFlag"
                                        (ngModelChange)="onChange(sf.fieldType, sf.fieldName, d, $event.target.value, -1, '', true, ac)">
                                </div>
                            </div>
                        </div>
            
                        <!-- Dropdown Field -->
                        <div *ngSwitchCase="'dropdown'" class="custom-drop-down {{sf.selection}}"
                            [ngClass]="{'empty': pageInfo.access == 'documents' && sf.itemValues.length == 0 && (sf.fieldName == 'make' || sf.fieldName == 'manufacturer')}">
                            <!-- Single Selection -->
                            <div *ngIf="sf.loading" class="dash-loader cust-loader field-loader"><img
                                    src="assets/images/loading.svg" alt="Loader" /></div>
                            <div class="single-select" *ngIf="sf.selection == 'single'">
                                <div class="drop-col split-col">
                                    <span class="split-icon {{sf.fieldName}}-bg"></span>
                                </div>
                                <p-dropdown appendTo="body" [style]="{'width':'100%'}" [ngClass]="{'enable': sf.selectedValues != '', 'readonly': !sf.saveFlag}" class="drop-col dropdown"
                                    [options]="sf.itemValues" formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [(ngModel)]="sf.selectedValues"
                                    placeholder="{{sf.placeholder}}" autoWidth="true" filter="true" optionLabel="name"
                                    optionValue="id" resetFilterOnHide="true" [disabled]="sf.disabled" [virtualScroll]="true"
                                    (onChange)="onChange(sf.fieldType, sf.fieldName, d, $event.value, -1)"></p-dropdown>
                            </div>
                            
                            <!-- Multiple Selection -->
                            <div *ngIf="sf.selection == 'multiple'">
                                <div class="multi-select" [ngClass]="{'empty': sf.selectedVal.length == 0}">
                                    <div class="drop-col split-col">
                                        <span class="split-icon {{sf.fieldName}}-bg"></span>
                                    </div>
                                    <p-multiSelect #multi class="drop-col dropdown" [ngClass]="{'readonly': !sf.saveFlag}" [options]="sf.itemValues"
                                        formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [(ngModel)]="sf.selectedIds"
                                        [selectedItemsLabel]="sf.placeholder" placeholder="{{sf.placeholder}}"
                                        autoWidth="true" filter="true" optionLabel="name" optionId="id" resetFilterOnHide="true"
                                        filterPlaceHolder="Search {{sf.placeholder}}" [disabled]="sf.disabled"
                                        (onChange)="selectedItems(sf.fieldName, $event.value)">
                                        <ng-template let-sf.fieldName pTemplate="selectedItems">
                                            <ng-container *ngFor="let item of sf.selectedVal; let i = index;">{{item}}<span
                                                    *ngIf="sf.selectedVal.length > i+1">, </span>
                                            </ng-container>
                                            <span class="p-placeholder" *ngIf="sf.selectedVal.length == 0">{{sf.placeholder}}</span>
                                        </ng-template>
                                    </p-multiSelect>
                                </div>
                                <div class="dynmic-selected-items" [ngClass]="{'readonly': !sf.saveFlag}" *ngIf="sf.selectedValues.length > 0">
                                    <div class="selected-items ws-selected-items">
                                        <div *ngFor="let item of sf.selectedValues; let t=index" class="tag-text ws-tag-text">
                                            <span>{{item}}</span>
                                            <i *ngIf="sf.disabled" class="material-icons tag-close"
                                                (click)="disableTagSelection(sf.fieldName, item, t);">close</i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="dynmic-selected-items" [ngClass]="{'readonly': !sf.saveFlag}" *ngIf="sf.selection == 'single' && (sf.fieldName == 'make' || sf.fieldName == 'SelectProductType' || sf.fieldName == 'year') && (sf.selectedVal != '')">
                            <div class="selected-items ws-selected-items">
                                <div class="tag-text ws-tag-text">
                                    <span>{{sf.selectedVal}}</span>
                                </div>
                            </div>
                        </div>
            
                        <!-- Custom Popup Field -->
                        <div *ngSwitchCase="'popup'" class="cursor custom-drop-down popup">
                            <!-- Single Selection -->
                            <div *ngIf="sf.selection == 'single'">
                                <div class=" {{sf.selection}}" (click)="manageSelection(sf)">
                                    <div *ngIf="sf.loading" class="dash-loader cust-loader field-loader"><img
                                            src="assets/images/loading.svg" alt="Loader" /></div>
                                    <div class="single-select" [ngClass]="{'empty': sf.disabled}" *ngIf="sf.selection == 'single'">
                                        <div class="drop-col split-col">
                                            <span class="split-icon {{sf.fieldName}}-bg {{industryType.class}}"></span>
                                        </div>
                                        <p-dropdown class="drop-col dropdown" [ngClass]="{'readonly': !sf.saveFlag}" [options]="sf.itemValues"
                                            formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [(ngModel)]="sf.selectedValues"
                                            placeholder="{{sf.placeholder}}" autoWidth="true" filter="true"
                                            optionLabel="name" optionValue="id" resetFilterOnHide="true" [disabled]="true"
                                            (onChange)="onChange(sf.fieldType, sf.fieldName, d, $event.value, -1)"></p-dropdown>
                                    </div>
                                </div>
                                <div class="dynmic-selected-items" [ngClass]="{'readonly': !sf.saveFlag}" *ngIf="sf.selectedValues != ''">
                                    <div class="selected-items ws-selected-items">
                                        <div class="tag-text ws-tag-text">
                                            <span>{{sf.selectedValues}}</span>
                                            <i *ngIf="!sf.disabled" class="material-icons tag-close"
                                                (click)="disableTagSelection(sf.fieldName, sf.selectedValues, 0, df, d);">close</i>
                                        </div>
                                    </div>
                                </div>
                            </div>
            
                            <!-- Multiple Selection -->
                            <div *ngIf="sf.selection == 'multiple'"
                                [ngClass]="{'hide': sf.fieldName == 'errorCode' && !apiFormFields[d-1].selection}">
                                <div class="multi-select" [ngClass]="{'empty': sf.disabled}" (click)="manageSelection(sf, secIndex, '', ac)">
                                    <div class="drop-col split-col">
                                        <span class="split-icon {{sf.fieldName}}-bg {{sf.fieldClass}}-bg {{industryType.class}}"></span>
                                    </div>
                                    <p-multiSelect #multi class="drop-col dropdown" [ngClass]="{'readonly': !sf.saveFlag}" [options]="sf.itemValues"
                                        formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [selectedItemsLabel]="sf.placeholder"
                                        placeholder="{{sf.placeholder}}" autoWidth="true" filter="true"
                                        optionLabel="name" optionId="id" resetFilterOnHide="true"
                                        filterPlaceHolder="Search {{sf.placeholder}}" [disabled]="true">
                                        <ng-template let-sf.fieldName pTemplate="selectedItems">
                                            <ng-container *ngFor="let item of sf.selectedVal; let i = index;">{{item}}<span
                                                    *ngIf="sf.selectedVal.length > i+1">, </span>
                                            </ng-container>
                                            <span class="p-placeholder" *ngIf="sf.selectedVal.length == 0">{{sf.placeholder}}</span>
                                        </ng-template>
                                    </p-multiSelect>
                                </div>
                                <div class="dynmic-selected-items" [ngClass]="{'readonly': !sf.saveFlag}" *ngIf="sf.selectedValues.length > 0">
                                    <div class="selected-items ws-selected-items">
                                        <div *ngFor="let item of sf.selectedValues; let t=index" class="tag-text ws-tag-text">
                                            <span>{{item}}</span>
                                            <i *ngIf="!sf.disabled" class="material-icons tag-close"
                                                (click)="disableTagSelection(sf.fieldName, item, t, df, d);">close</i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
            
                        <!-- Thread Type Select -->
                        <div *ngSwitchCase="'ThreadTypeSelect'" class="row">
                            <div class="cursor field-box rect-box {{item.itemClass}}"
                                [ngClass]="{'active': item.isActive, 'deactive': item.active == 0}"
                                *ngFor="let item of sf.itemValues;"
                                (click)="onChange(sf.fieldType, sf.fieldName, d, item.apiValue, -1)">
                                <div class="item-row">
                                    <div class="item-col {{item.apiValue}}"></div>
                                    <div class="item-col">
                                        <div class="title">{{item.name}}</div>
                                        <div class="desc">{{item.description}}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
            
                        <!-- Help Type Select -->
                        <div *ngSwitchCase="'helpTypeCollectionCell'">
                            <div class="cursor text-center field-box square-box" [ngClass]="{'active': item.isActive}"
                                *ngFor="let item of sf.itemValues;"
                                (click)="onChange(sf.fieldType, sf.fieldName, d, item.apiValue, -1)">
                                <div class="item-row">
                                    <div class="item-col {{item.name | lowercase }}"></div>
                                    <div class="item-col">{{item.name}}</div>
                                </div>
                            </div>
                        </div>
            
                        <!-- Toggle -->
                        <div *ngSwitchCase="'toggle'" class="row">
                            <div class="cursor field-box toggle-box {{sf.fieldClass}}"
                                [ngClass]="{'active': sf.selection, 'inactive': !sf.selection, 'hide': sf.disabled}">
                                <span class="toggle-col field-label {{industryType.slug}}">{{sf.title}}</span>
                                <span class="toggle-col toggle-option">
                                    <p-inputSwitch formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [(ngModel)]="sf.selection"
                                        (onChange)="onChange(sf.fieldType, sf.fieldName, d, $event.checked, -1, '', true, ac)"></p-inputSwitch>
                                </span>
                            </div>
                        </div>
            
                        <!-- Text Area -->
                        <div *ngSwitchCase="'textarea'">
                            <div class="dynamic-form-control">
                                <div class="field-col text-col alt-text">
                                    <div class="field-label {{sf.fieldName}} {{sf.fieldClass}}"
                                        [ngClass]="{'label-bg': sf.iconSupport, 'item-label': sf.isLabel, 'readonly': !sf.saveFlag}" *ngIf="sf.isLabel">
                                        {{sf.title}}</div>
                                    <textarea *ngIf="sf.isEditor == 0" [ngClass]="{'readonly': !sf.saveFlag}" placeholder="{{sf.placeholder}}"
                                        formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}" [ngModel]="sf.selectedValues"
                                        maxlength="{{sf.maxLength}}" autocomplete="off"
                                        [readonly]= "!sf.editFlag"
                                        (ngModelChange)="onChange(sf.fieldType, sf.fieldName, d, $event, -1)"></textarea>
                                    <p-editor *ngIf="sf.isEditor == 1" [ngClass]="{'readonly': !sf.saveFlag}" formControlName="{{sf.apiFieldKey}}-{{ac}}-{{d}}"
                                        [ngModel]="sf.selectedValues"
                                        [readonly]= "!sf.editFlag"
                                        (onTextChange)="onChange(sf.fieldType, sf.fieldName, d, $event.htmlValue, -1, '', true, ac)"
                                        [style]="{'height': '180px'}">
                                        <ng-template pTemplate="header">
                                            <span class="ql-formats">
                                                <button class="ql-bold" aria-label="Bold"></button>
                                                <button class="ql-italic" aria-label="Italic"></button>
                                                <button class="ql-underline" aria-label="Underline"></button>
            
                                                <select title="Text Color" class="ql-color" defaultValue="rgb(0, 0, 0)">
                                                    <option *ngFor="let c of textColorValues" value="{{c.color}}"
                                                        label="{{c.color}}"></option>
                                                </select>
                                                <button class="ql-list" value="ordered"></button>
                                                <button class="ql-list" value="bullet"></button>
                                                <select title="Text Alignment" class="ql-align">
                                                    <option selected>Gauche</option>
                                                    <option value="center" label="Center"></option>
                                                    <option value="right" label="Right"></option>
                                                    <option value="justify" label="Justify"></option>
                                                </select>
            
                                                <!--<button aria-label="Link" class="ql-link"></button>-->
                                                <!--button aria-label="Image" class="ql-image"></button-->
                                            </span>
                                        </ng-template>
                                    </p-editor>
                                </div>
                            </div>
                        </div>
            
                        <!-- Radio Button -->
                        <div *ngSwitchCase="'radio'">
                            <div class="radio-button">
                                <label class="cursor" [ngClass]="{'active': opt.checked}" *ngFor="let opt of sf.itemValues"
                                    id="radio-{{opt.id}}">
                                    <input type="radio" [name]="opt.name" [formControlName]="sf.apiFieldKey" [value]="opt.id"
                                        checked="{{opt.checked}}" (change)="onChange(sf.fieldType, sf.fieldName, d, opt.id, -1)"
                                        [(ngModel)]="sf.selectedVal">
                                    <span class="checkmark" [ngClass]="{'active': opt.checked}"></span>
                                    {{opt.name}}
                                </label>
                            </div>
                        </div>
            
                        <!-- Date Picker -->
                        <div *ngSwitchCase="'input-date'">
                            <div class="cursor dynamic-form-control split-bg-col join-split-col">
                                <div class="field-col bg-col {{sf.fieldName}}-bg"></div>
                                <div class="field-col calendar-col alt-text cursor">
                                    <dp-date-picker placeholder="{{sf.placeholder}}" [disabled]="datePickerDisableFlag"
                                        formControlName="{{sf.apiFieldKey}}" [(ngModel)]="sf.dateVal" [config]="datePickerConfig"
                                        (onSelect)="onChange(sf.fieldType, sf.fieldName, d, $event.date, -1)"></dp-date-picker>
                                </div>
                            </div>
                        </div>
            
                        <!-- Attachment -->
                        <div *ngSwitchCase="'attachments'">
                            <div class="prob-form-row attachment-row" [ngClass]="{'readonly': !sf.saveFlag}">
                                <app-file-attachment *ngIf="threadUpload && !sf.disabled" class="attachment-file" [action]="manageAction"
                                    [pushData]="pageInfo.pushFormData" [apiData]="apiData" (uploadedItems)="attachments($event, sf, ac, d)">
                                </app-file-attachment>
                                <app-attachment-view *ngIf="sf.callback" [action]="sf.uploadAction" [access]="sibAccess" [attachments]="sf.uploadContents"
                                    (attachmentAction)="attachmentAction($event, sf, ac, d)"></app-attachment-view>
                            </div>
                        </div>
            
                        <!-- Slider -->
                        <div *ngSwitchCase="'slider'">
                            <div class="slider">
                                <div class="field-label slider-label {{sf.fieldClass}}">{{sf.LabelName}}</div>
                                <div class="field-label slider-placeholder">{{sf.title}}:<span *ngIf="sf.selectedValues > 0"
                                        class="slider-val {{sf.fieldClass}}">{{sf.selectedValues}} {{sf.placeholder}}</span></div>
                                <mat-slider class="custom-mat-slider" [disabled]="disabled" [invert]="invert" [max]="sf.maxValue"
                                    [min]="sf.minValue" [step]="sf.intervalValue" formControlName="{{sf.apiFieldKey}}"
                                    [(ngModel)]="sf.selectedValues" [vertical]="vertical"
                                    (change)="onChange(sf.fieldType, sf.fieldName, d, $event.value, -1)">
                                </mat-slider>
                            </div>
                        </div>
            
                        <div *ngIf="sf.fieldName == 'vinNo' && sf.invalidFlag" class="invalid-feedback invalid-field">
                            <div id="valid-error" class="field-err">{{sf.invalidError}}</div>
                        </div>
                        <div *ngIf="!sf.valid && sf.fieldName != 'vinNo'" class="invalid-feedback"
                            [ngClass]="{'invalid-field': ((step == 'step1' && step1Submitted) || (step == 'step2' && step2Submitted) && !sf.valid)}">
                            <div id="valid-error" class="field-err" *ngIf="!sf.valid">{{sf.isReqiredText}}</div>
                        </div>
                    </div>
            
                    <!-- Recent Selection Lists -->
                    <div class="recent-selections recent-top {{sf.selection}}"
                        [ngClass]="{'hide': !sf.recentShow || sf.selectedVal.length > 0}"
                        *ngIf="sf.recentSelection == 1 && sf.recentSelectionValue && sf.recentSelectionValue.length > 0 && !sf.loading"
                        [style.width.px]="panelWidth">
                        <div class="recent-col recent-label">Recent Selections:</div>
                        <div class="recent-col recent-list">
                            <div class="cursor items" *ngFor="let recent of sf.recentSelectionValue; let r=index;"
                                (click)="recentSelection(sf, recent, d)">
                                <span *ngIf="sf.fieldName != 'make'">{{recent.name}}</span>
                                <span *ngIf="sf.fieldName == 'make'">{{recent.genericProductName}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </p-accordionTab>
    </p-accordion>
</div>